<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Stomp.Frames.IO</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Stomp-Frames-IO.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">tehstomp-lib-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Stomp.Frames.IO</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The IO module of the Frames package encapsulates error-handling IO operations on 
 Handles that are expected to be receiving STOMP frames.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:FrameHandler">FrameHandler</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FrameEvt">FrameEvt</a><ul class="subs"><li>= <a href="#v:NewFrame">NewFrame</a> <a href="Stomp-Frames.html#t:Frame">Frame</a></li><li>| <a href="#v:ParseError">ParseError</a> <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-String.html#t:String">String</a></li><li>| <a href="#v:Heartbeat">Heartbeat</a></li><li>| <a href="#v:GotEof">GotEof</a></li><li>| <a href="#v:TimedOut">TimedOut</a></li></ul></li><li class="src short"><a href="#v:initFrameHandler">initFrameHandler</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a></li><li class="src short"><a href="#v:put">put</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="Stomp-Frames.html#t:Frame">Frame</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:putEvt">putEvt</a> :: <a href="Stomp-Frames.html#t:Frame">Frame</a> -&gt; <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="file:///home/wickstopher/.cabal/share/doc/x86_64-linux-ghc-7.10.3/tx-events-0.4.1/html/Control-Concurrent-TxEvent.html#t:Evt">Evt</a> ()</li><li class="src short"><a href="#v:get">get</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> <a href="Stomp-Frames-IO.html#t:FrameEvt">FrameEvt</a></li><li class="src short"><a href="#v:getEvt">getEvt</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="file:///home/wickstopher/.cabal/share/doc/x86_64-linux-ghc-7.10.3/tx-events-0.4.1/html/Control-Concurrent-TxEvent.html#t:Evt">Evt</a> <a href="Stomp-Frames-IO.html#t:FrameEvt">FrameEvt</a></li><li class="src short"><a href="#v:getEvtWithTimeOut">getEvtWithTimeOut</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///home/wickstopher/.cabal/share/doc/x86_64-linux-ghc-7.10.3/tx-events-0.4.1/html/Control-Concurrent-TxEvent.html#t:Evt">Evt</a> <a href="Stomp-Frames-IO.html#t:FrameEvt">FrameEvt</a></li><li class="src short"><a href="#v:close">close</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:frameToBytes">frameToBytes</a> :: <a href="Stomp-Frames.html#t:Frame">Frame</a> -&gt; <a href="file:///usr/share/doc/ghc-doc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:updateHeartbeat">updateHeartbeat</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FrameHandler" class="def">FrameHandler</a></p><div class="doc"><p>A FrameHandler encapsulates the work of sending and receiving frames on a Handle. In most cases,
 this will be a Handle to a TCP socket connection in a STOMP client or broker.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FrameEvt" class="def">FrameEvt</a></p><div class="doc"><p>A FrameEvt is a type of event that can be received from a FrameHandler (see the get function). </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NewFrame" class="def">NewFrame</a> <a href="Stomp-Frames.html#t:Frame">Frame</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ParseError" class="def">ParseError</a> <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Heartbeat" class="def">Heartbeat</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:GotEof" class="def">GotEof</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TimedOut" class="def">TimedOut</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:initFrameHandler" class="def">initFrameHandler</a> :: <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/GHC-IO-Handle.html#t:Handle">Handle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a></p><div class="doc"><p>Given a resource Handle to which STOMP frames will be read from and written to, initializes a FrameHandler 
 and returns it to the caller.</p></div></div><div class="top"><p class="src"><a name="v:put" class="def">put</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="Stomp-Frames.html#t:Frame">Frame</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Puts the given Frame into the given FrameHandler in an IO context.
 This function will block until the Frame has been processed.</p></div></div><div class="top"><p class="src"><a name="v:putEvt" class="def">putEvt</a> :: <a href="Stomp-Frames.html#t:Frame">Frame</a> -&gt; <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="file:///home/wickstopher/.cabal/share/doc/x86_64-linux-ghc-7.10.3/tx-events-0.4.1/html/Control-Concurrent-TxEvent.html#t:Evt">Evt</a> ()</p><div class="doc"><p>Puts the given Frame into the FrameHandler in an Evt context.</p></div></div><div class="top"><p class="src"><a name="v:get" class="def">get</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> <a href="Stomp-Frames-IO.html#t:FrameEvt">FrameEvt</a></p><div class="doc"><p>Get the next FrameEvt from the given FrameHandler and return it in an IO context. 
 This function will block until a FrameEvt is available.</p></div></div><div class="top"><p class="src"><a name="v:getEvt" class="def">getEvt</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="file:///home/wickstopher/.cabal/share/doc/x86_64-linux-ghc-7.10.3/tx-events-0.4.1/html/Control-Concurrent-TxEvent.html#t:Evt">Evt</a> <a href="Stomp-Frames-IO.html#t:FrameEvt">FrameEvt</a></p><div class="doc"><p>Get the next FrameEvt from the given FrameHandler and return it in an Evt context.</p></div></div><div class="top"><p class="src"><a name="v:getEvtWithTimeOut" class="def">getEvtWithTimeOut</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///home/wickstopher/.cabal/share/doc/x86_64-linux-ghc-7.10.3/tx-events-0.4.1/html/Control-Concurrent-TxEvent.html#t:Evt">Evt</a> <a href="Stomp-Frames-IO.html#t:FrameEvt">FrameEvt</a></p><div class="doc"><p>Get the next FrameEvt from the given FrameHandler and return it an Evt context. If the given
 timeout (in microseconds) is exceeded prior to receiving activity on the channel, this will
 return TimedOut.</p></div></div><div class="top"><p class="src"><a name="v:close" class="def">close</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Kills all threads associated with the FrameHandler.</p></div></div><div class="top"><p class="src"><a name="v:frameToBytes" class="def">frameToBytes</a> :: <a href="Stomp-Frames.html#t:Frame">Frame</a> -&gt; <a href="file:///usr/share/doc/ghc-doc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>Convert a Frame to a STOMP protocol adherent ByteString suitable for transmission over a handle.</p></div></div><div class="top"><p class="src"><a name="v:updateHeartbeat" class="def">updateHeartbeat</a> :: <a href="Stomp-Frames-IO.html#t:FrameHandler">FrameHandler</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Update the rate at which this FrameHandler sends heart-beats. A rate of 0 or less means that 
 no heart-beats will be transmitted. Otherwise, we will send one heart-beat every n microseconds.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>